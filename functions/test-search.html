<!DOCTYPE html>
<html>
<head>
    <title>検索テスト</title>
    <style>
        body { padding: 20px; font-family: sans-serif; }
        button { padding: 10px 20px; background: #4CAF50; color: white; border: none; cursor: pointer; }
        .result { margin-top: 20px; padding: 15px; background: #f0f0f0; }
    </style>
</head>
<body>
    <h2>DMM商品検索テスト</h2>
    <input type="text" id="keyword" placeholder="キーワード" value="アニメ">
    <button onclick="search()">検索</button>
    <div id="result"></div>
    
    <script>
    async function search() {
        const keyword = document.getElementById('keyword').value;
        const res = await fetch('https://asia-northeast1-blog-automation-system.cloudfunctions.net/searchProductsMultiSite', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({
                keyword: keyword,
                siteId: 'entamade_jp',
                limit: 5
            })
        });
        const data = await res.json();
        document.getElementById('result').innerHTML = `
            <h3>結果: ${data.totalCount}件</h3>
            ${data.products?.map(p => `<p>${p.title} - ${p.price}</p>`).join('') || 'なし'}
        `;
    }
    </script>
</body>
</html>
